ARM GAS  /tmp/ccqrYWkL.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"pid.cpp"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text._ZN14continuous_PID7ComputeEff,"ax",%progbits
  18              		.align	1
  19              		.global	_ZN14continuous_PID7ComputeEff
  20              		.arch armv7e-m
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  24              		.fpu fpv4-sp-d16
  26              	_ZN14continuous_PID7ComputeEff:
  27              	.LVL0:
  28              	.LFB1649:
  29              		.file 1 "Core/Src/control/pid.cpp"
   1:Core/Src/control/pid.cpp **** #include"pid.h"
   2:Core/Src/control/pid.cpp **** /* for continious PID */
   3:Core/Src/control/pid.cpp **** float continuous_PID:: Compute(float Setpoint,float Input)
   4:Core/Src/control/pid.cpp **** {
  30              		.loc 1 4 1 view -0
  31              		.cfi_startproc
  32              		@ args = 0, pretend = 0, frame = 0
  33              		@ frame_needed = 0, uses_anonymous_args = 0
   5:Core/Src/control/pid.cpp ****     if (!inAuto) return 0;
  34              		.loc 1 5 5 view .LVU1
  35              		.loc 1 5 10 is_stmt 0 view .LVU2
  36 0000 90F82D30 		ldrb	r3, [r0, #45]	@ zero_extendqisi2
  37              		.loc 1 5 5 view .LVU3
  38 0004 13B9     		cbnz	r3, .L26
  39              		.loc 1 5 25 view .LVU4
  40 0006 9FED3A0A 		vldr.32	s0, .L27
  41              	.LVL1:
   6:Core/Src/control/pid.cpp ****     unsigned long now= HAL_GetTick();
   7:Core/Src/control/pid.cpp ****     unsigned long timeChange = (now - lastTime);
   8:Core/Src/control/pid.cpp ****     if (timeChange >= SampleTime)
   9:Core/Src/control/pid.cpp ****     {   
  10:Core/Src/control/pid.cpp ****         /*Compute all the working error variables*/
  11:Core/Src/control/pid.cpp ****         currInput = Input;
  12:Core/Src/control/pid.cpp ****         float error = Setpoint - Input;
  13:Core/Src/control/pid.cpp ****         ITerm += (ki * error);
  14:Core/Src/control/pid.cpp ****         float dInput = (Input - lastInput);
  15:Core/Src/control/pid.cpp ****         if (!pOnE) ITerm -= kp * dInput;
  16:Core/Src/control/pid.cpp ****         if (ITerm > outMax) ITerm = outMax;
  17:Core/Src/control/pid.cpp ****         else if (ITerm < outMin) ITerm = outMin;
ARM GAS  /tmp/ccqrYWkL.s 			page 2


  18:Core/Src/control/pid.cpp **** 
  19:Core/Src/control/pid.cpp ****         /*Compute P-Term*/
  20:Core/Src/control/pid.cpp ****         if (pOnE) Output = kp * error;
  21:Core/Src/control/pid.cpp ****         else Output = 0;
  22:Core/Src/control/pid.cpp **** 
  23:Core/Src/control/pid.cpp ****         /*Compute Rest of PID Output*/
  24:Core/Src/control/pid.cpp ****         Output += ITerm - kd * dInput;
  25:Core/Src/control/pid.cpp ****         if (Output > outMax) Output = outMax;
  26:Core/Src/control/pid.cpp ****         else if (Output < outMin) Output = outMin;
  27:Core/Src/control/pid.cpp **** 
  28:Core/Src/control/pid.cpp ****         /*Remember some variables for next time*/
  29:Core/Src/control/pid.cpp ****         lastInput = Input;
  30:Core/Src/control/pid.cpp ****         lastTime = now;
  31:Core/Src/control/pid.cpp ****     }
  32:Core/Src/control/pid.cpp ****     return Output;
  33:Core/Src/control/pid.cpp **** }
  42              		.loc 1 33 1 view .LVU5
  43 000a 7047     		bx	lr
  44              	.LVL2:
  45              	.L26:
   4:Core/Src/control/pid.cpp ****     if (!inAuto) return 0;
  46              		.loc 1 4 1 view .LVU6
  47 000c 10B5     		push	{r4, lr}
  48              	.LCFI0:
  49              		.cfi_def_cfa_offset 8
  50              		.cfi_offset 4, -8
  51              		.cfi_offset 14, -4
  52 000e 2DED028B 		vpush.64	{d8}
  53              	.LCFI1:
  54              		.cfi_def_cfa_offset 16
  55              		.cfi_offset 80, -16
  56              		.cfi_offset 81, -12
  57 0012 0446     		mov	r4, r0
  58 0014 B0EE408A 		vmov.f32	s16, s0
  59 0018 F0EE608A 		vmov.f32	s17, s1
   6:Core/Src/control/pid.cpp ****     unsigned long now= HAL_GetTick();
  60              		.loc 1 6 5 is_stmt 1 view .LVU7
   6:Core/Src/control/pid.cpp ****     unsigned long now= HAL_GetTick();
  61              		.loc 1 6 35 is_stmt 0 view .LVU8
  62 001c FFF7FEFF 		bl	HAL_GetTick
  63              	.LVL3:
   7:Core/Src/control/pid.cpp ****     if (timeChange >= SampleTime)
  64              		.loc 1 7 5 is_stmt 1 view .LVU9
   7:Core/Src/control/pid.cpp ****     if (timeChange >= SampleTime)
  65              		.loc 1 7 39 is_stmt 0 view .LVU10
  66 0020 636A     		ldr	r3, [r4, #36]
   7:Core/Src/control/pid.cpp ****     if (timeChange >= SampleTime)
  67              		.loc 1 7 19 view .LVU11
  68 0022 C31A     		subs	r3, r0, r3
  69              	.LVL4:
   8:Core/Src/control/pid.cpp ****     {   
  70              		.loc 1 8 5 is_stmt 1 view .LVU12
  71              	.LBB2:
   8:Core/Src/control/pid.cpp ****     {   
  72              		.loc 1 8 23 is_stmt 0 view .LVU13
  73 0024 A26A     		ldr	r2, [r4, #40]
   8:Core/Src/control/pid.cpp ****     {   
ARM GAS  /tmp/ccqrYWkL.s 			page 3


  74              		.loc 1 8 5 view .LVU14
  75 0026 9A42     		cmp	r2, r3
  76 0028 46D8     		bhi	.L3
  77              	.LBB3:
  11:Core/Src/control/pid.cpp ****         float error = Setpoint - Input;
  78              		.loc 1 11 9 is_stmt 1 view .LVU15
  11:Core/Src/control/pid.cpp ****         float error = Setpoint - Input;
  79              		.loc 1 11 19 is_stmt 0 view .LVU16
  80 002a C4ED048A 		vstr.32	s17, [r4, #16]
  12:Core/Src/control/pid.cpp ****         ITerm += (ki * error);
  81              		.loc 1 12 9 is_stmt 1 view .LVU17
  12:Core/Src/control/pid.cpp ****         ITerm += (ki * error);
  82              		.loc 1 12 15 is_stmt 0 view .LVU18
  83 002e 38EE680A 		vsub.f32	s0, s16, s17
  84              	.LVL5:
  13:Core/Src/control/pid.cpp ****         float dInput = (Input - lastInput);
  85              		.loc 1 13 9 is_stmt 1 view .LVU19
  13:Core/Src/control/pid.cpp ****         float dInput = (Input - lastInput);
  86              		.loc 1 13 19 is_stmt 0 view .LVU20
  87 0032 94ED017A 		vldr.32	s14, [r4, #4]
  13:Core/Src/control/pid.cpp ****         float dInput = (Input - lastInput);
  88              		.loc 1 13 22 view .LVU21
  89 0036 27EE007A 		vmul.f32	s14, s14, s0
  13:Core/Src/control/pid.cpp ****         float dInput = (Input - lastInput);
  90              		.loc 1 13 15 view .LVU22
  91 003a D4ED057A 		vldr.32	s15, [r4, #20]
  92 003e 37EE277A 		vadd.f32	s14, s14, s15
  93 0042 84ED057A 		vstr.32	s14, [r4, #20]
  14:Core/Src/control/pid.cpp ****         if (!pOnE) ITerm -= kp * dInput;
  94              		.loc 1 14 9 is_stmt 1 view .LVU23
  14:Core/Src/control/pid.cpp ****         if (!pOnE) ITerm -= kp * dInput;
  95              		.loc 1 14 33 is_stmt 0 view .LVU24
  96 0046 D4ED036A 		vldr.32	s13, [r4, #12]
  14:Core/Src/control/pid.cpp ****         if (!pOnE) ITerm -= kp * dInput;
  97              		.loc 1 14 15 view .LVU25
  98 004a 78EEE66A 		vsub.f32	s13, s17, s13
  99              	.LVL6:
  15:Core/Src/control/pid.cpp ****         if (ITerm > outMax) ITerm = outMax;
 100              		.loc 1 15 9 is_stmt 1 view .LVU26
  15:Core/Src/control/pid.cpp ****         if (ITerm > outMax) ITerm = outMax;
 101              		.loc 1 15 14 is_stmt 0 view .LVU27
 102 004e 94F82C30 		ldrb	r3, [r4, #44]	@ zero_extendqisi2
 103              	.LVL7:
  15:Core/Src/control/pid.cpp ****         if (ITerm > outMax) ITerm = outMax;
 104              		.loc 1 15 9 view .LVU28
 105 0052 3BB9     		cbnz	r3, .L4
  15:Core/Src/control/pid.cpp ****         if (ITerm > outMax) ITerm = outMax;
 106              		.loc 1 15 20 is_stmt 1 discriminator 1 view .LVU29
  15:Core/Src/control/pid.cpp ****         if (ITerm > outMax) ITerm = outMax;
 107              		.loc 1 15 29 is_stmt 0 discriminator 1 view .LVU30
 108 0054 D4ED007A 		vldr.32	s15, [r4]
  15:Core/Src/control/pid.cpp ****         if (ITerm > outMax) ITerm = outMax;
 109              		.loc 1 15 32 discriminator 1 view .LVU31
 110 0058 67EEA67A 		vmul.f32	s15, s15, s13
  15:Core/Src/control/pid.cpp ****         if (ITerm > outMax) ITerm = outMax;
 111              		.loc 1 15 26 discriminator 1 view .LVU32
 112 005c 37EE677A 		vsub.f32	s14, s14, s15
ARM GAS  /tmp/ccqrYWkL.s 			page 4


 113 0060 84ED057A 		vstr.32	s14, [r4, #20]
 114              	.L4:
  16:Core/Src/control/pid.cpp ****         else if (ITerm < outMin) ITerm = outMin;
 115              		.loc 1 16 9 is_stmt 1 view .LVU33
  16:Core/Src/control/pid.cpp ****         else if (ITerm < outMin) ITerm = outMin;
 116              		.loc 1 16 13 is_stmt 0 view .LVU34
 117 0064 D4ED057A 		vldr.32	s15, [r4, #20]
  16:Core/Src/control/pid.cpp ****         else if (ITerm < outMin) ITerm = outMin;
 118              		.loc 1 16 21 view .LVU35
 119 0068 94ED087A 		vldr.32	s14, [r4, #32]
  16:Core/Src/control/pid.cpp ****         else if (ITerm < outMin) ITerm = outMin;
 120              		.loc 1 16 9 view .LVU36
 121 006c F4EEC77A 		vcmpe.f32	s15, s14
 122 0070 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 123 0074 25DD     		ble	.L20
  16:Core/Src/control/pid.cpp ****         else if (ITerm < outMin) ITerm = outMin;
 124              		.loc 1 16 29 is_stmt 1 discriminator 1 view .LVU37
  16:Core/Src/control/pid.cpp ****         else if (ITerm < outMin) ITerm = outMin;
 125              		.loc 1 16 35 is_stmt 0 discriminator 1 view .LVU38
 126 0076 84ED057A 		vstr.32	s14, [r4, #20]
 127              	.L7:
  20:Core/Src/control/pid.cpp ****         else Output = 0;
 128              		.loc 1 20 9 is_stmt 1 view .LVU39
 129 007a 63B3     		cbz	r3, .L9
  20:Core/Src/control/pid.cpp ****         else Output = 0;
 130              		.loc 1 20 19 discriminator 1 view .LVU40
  20:Core/Src/control/pid.cpp ****         else Output = 0;
 131              		.loc 1 20 28 is_stmt 0 discriminator 1 view .LVU41
 132 007c 94ED008A 		vldr.32	s16, [r4]
 133              	.LVL8:
  20:Core/Src/control/pid.cpp ****         else Output = 0;
 134              		.loc 1 20 31 discriminator 1 view .LVU42
 135 0080 28EE000A 		vmul.f32	s0, s16, s0
 136              	.LVL9:
  20:Core/Src/control/pid.cpp ****         else Output = 0;
 137              		.loc 1 20 26 discriminator 1 view .LVU43
 138 0084 84ED060A 		vstr.32	s0, [r4, #24]
 139              	.L10:
  24:Core/Src/control/pid.cpp ****         if (Output > outMax) Output = outMax;
 140              		.loc 1 24 9 is_stmt 1 view .LVU44
  24:Core/Src/control/pid.cpp ****         if (Output > outMax) Output = outMax;
 141              		.loc 1 24 19 is_stmt 0 view .LVU45
 142 0088 D4ED057A 		vldr.32	s15, [r4, #20]
  24:Core/Src/control/pid.cpp ****         if (Output > outMax) Output = outMax;
 143              		.loc 1 24 27 view .LVU46
 144 008c 94ED026A 		vldr.32	s12, [r4, #8]
  24:Core/Src/control/pid.cpp ****         if (Output > outMax) Output = outMax;
 145              		.loc 1 24 30 view .LVU47
 146 0090 66EE266A 		vmul.f32	s13, s12, s13
 147              	.LVL10:
  24:Core/Src/control/pid.cpp ****         if (Output > outMax) Output = outMax;
 148              		.loc 1 24 25 view .LVU48
 149 0094 77EEE67A 		vsub.f32	s15, s15, s13
  24:Core/Src/control/pid.cpp ****         if (Output > outMax) Output = outMax;
 150              		.loc 1 24 16 view .LVU49
 151 0098 D4ED066A 		vldr.32	s13, [r4, #24]
 152 009c 77EEA67A 		vadd.f32	s15, s15, s13
ARM GAS  /tmp/ccqrYWkL.s 			page 5


 153 00a0 C4ED067A 		vstr.32	s15, [r4, #24]
  25:Core/Src/control/pid.cpp ****         else if (Output < outMin) Output = outMin;
 154              		.loc 1 25 9 is_stmt 1 view .LVU50
 155 00a4 B4EEE77A 		vcmpe.f32	s14, s15
 156 00a8 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 157 00ac 16D5     		bpl	.L21
  25:Core/Src/control/pid.cpp ****         else if (Output < outMin) Output = outMin;
 158              		.loc 1 25 30 discriminator 1 view .LVU51
  25:Core/Src/control/pid.cpp ****         else if (Output < outMin) Output = outMin;
 159              		.loc 1 25 37 is_stmt 0 discriminator 1 view .LVU52
 160 00ae 84ED067A 		vstr.32	s14, [r4, #24]
 161              	.L13:
  29:Core/Src/control/pid.cpp ****         lastTime = now;
 162              		.loc 1 29 9 is_stmt 1 view .LVU53
  29:Core/Src/control/pid.cpp ****         lastTime = now;
 163              		.loc 1 29 19 is_stmt 0 view .LVU54
 164 00b2 C4ED038A 		vstr.32	s17, [r4, #12]
 165              	.LVL11:
  30:Core/Src/control/pid.cpp ****     }
 166              		.loc 1 30 9 is_stmt 1 view .LVU55
  30:Core/Src/control/pid.cpp ****     }
 167              		.loc 1 30 18 is_stmt 0 view .LVU56
 168 00b6 6062     		str	r0, [r4, #36]
 169              	.LVL12:
 170              	.L3:
  30:Core/Src/control/pid.cpp ****     }
 171              		.loc 1 30 18 view .LVU57
 172              	.LBE3:
 173              	.LBE2:
  32:Core/Src/control/pid.cpp **** }
 174              		.loc 1 32 5 is_stmt 1 view .LVU58
  32:Core/Src/control/pid.cpp **** }
 175              		.loc 1 32 12 is_stmt 0 view .LVU59
 176 00b8 94ED060A 		vldr.32	s0, [r4, #24]
 177              		.loc 1 33 1 view .LVU60
 178 00bc BDEC028B 		vldm	sp!, {d8}
 179              	.LCFI2:
 180              		.cfi_remember_state
 181              		.cfi_restore 80
 182              		.cfi_restore 81
 183              		.cfi_def_cfa_offset 8
 184 00c0 10BD     		pop	{r4, pc}
 185              	.LVL13:
 186              	.L20:
 187              	.LCFI3:
 188              		.cfi_restore_state
 189              	.LBB5:
 190              	.LBB4:
  17:Core/Src/control/pid.cpp **** 
 191              		.loc 1 17 14 is_stmt 1 view .LVU61
  17:Core/Src/control/pid.cpp **** 
 192              		.loc 1 17 26 is_stmt 0 view .LVU62
 193 00c2 94ED076A 		vldr.32	s12, [r4, #28]
  17:Core/Src/control/pid.cpp **** 
 194              		.loc 1 17 14 view .LVU63
 195 00c6 F4EEC67A 		vcmpe.f32	s15, s12
 196 00ca F1EE10FA 		vmrs	APSR_nzcv, FPSCR
ARM GAS  /tmp/ccqrYWkL.s 			page 6


 197 00ce D4D5     		bpl	.L7
  17:Core/Src/control/pid.cpp **** 
 198              		.loc 1 17 34 is_stmt 1 discriminator 1 view .LVU64
  17:Core/Src/control/pid.cpp **** 
 199              		.loc 1 17 40 is_stmt 0 discriminator 1 view .LVU65
 200 00d0 84ED056A 		vstr.32	s12, [r4, #20]
 201 00d4 D1E7     		b	.L7
 202              	.L9:
  21:Core/Src/control/pid.cpp **** 
 203              		.loc 1 21 14 is_stmt 1 view .LVU66
  21:Core/Src/control/pid.cpp **** 
 204              		.loc 1 21 21 is_stmt 0 view .LVU67
 205 00d6 0023     		movs	r3, #0
 206 00d8 A361     		str	r3, [r4, #24]	@ float
 207 00da D5E7     		b	.L10
 208              	.LVL14:
 209              	.L21:
  26:Core/Src/control/pid.cpp **** 
 210              		.loc 1 26 14 is_stmt 1 view .LVU68
  26:Core/Src/control/pid.cpp **** 
 211              		.loc 1 26 27 is_stmt 0 view .LVU69
 212 00dc 94ED077A 		vldr.32	s14, [r4, #28]
  26:Core/Src/control/pid.cpp **** 
 213              		.loc 1 26 14 view .LVU70
 214 00e0 F4EEC77A 		vcmpe.f32	s15, s14
 215 00e4 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 216 00e8 E3D5     		bpl	.L13
  26:Core/Src/control/pid.cpp **** 
 217              		.loc 1 26 35 is_stmt 1 discriminator 1 view .LVU71
  26:Core/Src/control/pid.cpp **** 
 218              		.loc 1 26 42 is_stmt 0 discriminator 1 view .LVU72
 219 00ea 84ED067A 		vstr.32	s14, [r4, #24]
 220 00ee E0E7     		b	.L13
 221              	.L28:
 222              		.align	2
 223              	.L27:
 224 00f0 00000000 		.word	0
 225              	.LBE4:
 226              	.LBE5:
 227              		.cfi_endproc
 228              	.LFE1649:
 230              		.section	.text._ZN14continuous_PID10SetTuningsEfffi,"ax",%progbits
 231              		.align	1
 232              		.global	_ZN14continuous_PID10SetTuningsEfffi
 233              		.syntax unified
 234              		.thumb
 235              		.thumb_func
 236              		.fpu fpv4-sp-d16
 238              	_ZN14continuous_PID10SetTuningsEfffi:
 239              	.LVL15:
 240              	.LFB1650:
  34:Core/Src/control/pid.cpp **** 
  35:Core/Src/control/pid.cpp **** void continuous_PID:: SetTunings(float Kp, float Ki, float Kd,int pOn)
  36:Core/Src/control/pid.cpp **** {
 241              		.loc 1 36 1 is_stmt 1 view -0
 242              		.cfi_startproc
 243              		@ args = 0, pretend = 0, frame = 0
ARM GAS  /tmp/ccqrYWkL.s 			page 7


 244              		@ frame_needed = 0, uses_anonymous_args = 0
 245              		@ link register save eliminated.
  37:Core/Src/control/pid.cpp ****     if (Kp < 0 || Ki < 0 || Kd < 0) return;
 246              		.loc 1 37 5 view .LVU74
 247 0000 B5EEC00A 		vcmpe.f32	s0, #0
 248 0004 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 249 0008 24D4     		bmi	.L29
 250              		.loc 1 37 16 is_stmt 0 discriminator 2 view .LVU75
 251 000a F5EEC00A 		vcmpe.f32	s1, #0
 252 000e F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 253 0012 1FD4     		bmi	.L29
 254              		.loc 1 37 26 discriminator 4 view .LVU76
 255 0014 B5EEC01A 		vcmpe.f32	s2, #0
 256 0018 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 257 001c 1AD4     		bmi	.L29
  38:Core/Src/control/pid.cpp **** 
  39:Core/Src/control/pid.cpp ****     pOnE = (pOn == P_ON_E);
 258              		.loc 1 39 5 is_stmt 1 view .LVU77
 259              		.loc 1 39 17 is_stmt 0 view .LVU78
 260 001e 0129     		cmp	r1, #1
 261 0020 14BF     		ite	ne
 262 0022 0021     		movne	r1, #0
 263              	.LVL16:
 264              		.loc 1 39 17 view .LVU79
 265 0024 0121     		moveq	r1, #1
 266              		.loc 1 39 10 view .LVU80
 267 0026 80F82C10 		strb	r1, [r0, #44]
  40:Core/Src/control/pid.cpp **** 
  41:Core/Src/control/pid.cpp ****     float SampleTimeInSec = (float)SampleTime / 1000;
 268              		.loc 1 41 5 is_stmt 1 view .LVU81
 269              		.loc 1 41 29 is_stmt 0 view .LVU82
 270 002a D0ED0A7A 		vldr.32	s15, [r0, #40]	@ int
 271 002e F8EE677A 		vcvt.f32.u32	s15, s15
 272              		.loc 1 41 11 view .LVU83
 273 0032 DFED106A 		vldr.32	s13, .L32
 274 0036 87EEA67A 		vdiv.f32	s14, s15, s13
 275              	.LVL17:
  42:Core/Src/control/pid.cpp ****     kp = Kp;
 276              		.loc 1 42 5 is_stmt 1 view .LVU84
 277              		.loc 1 42 8 is_stmt 0 view .LVU85
 278 003a 80ED000A 		vstr.32	s0, [r0]
  43:Core/Src/control/pid.cpp ****     ki = Ki * SampleTimeInSec;
 279              		.loc 1 43 5 is_stmt 1 view .LVU86
 280              		.loc 1 43 13 is_stmt 0 view .LVU87
 281 003e 60EE870A 		vmul.f32	s1, s1, s14
 282              	.LVL18:
 283              		.loc 1 43 8 view .LVU88
 284 0042 C0ED010A 		vstr.32	s1, [r0, #4]
  44:Core/Src/control/pid.cpp ****     kd = Kd / SampleTimeInSec;
 285              		.loc 1 44 5 is_stmt 1 view .LVU89
 286              		.loc 1 44 13 is_stmt 0 view .LVU90
 287 0046 C1EE077A 		vdiv.f32	s15, s2, s14
 288              		.loc 1 44 8 view .LVU91
 289 004a C0ED027A 		vstr.32	s15, [r0, #8]
  45:Core/Src/control/pid.cpp **** 
  46:Core/Src/control/pid.cpp ****     if (controllerDirection == REVERSE)
 290              		.loc 1 46 5 is_stmt 1 view .LVU92
ARM GAS  /tmp/ccqrYWkL.s 			page 8


 291              		.loc 1 46 9 is_stmt 0 view .LVU93
 292 004e 036B     		ldr	r3, [r0, #48]
 293              		.loc 1 46 5 view .LVU94
 294 0050 012B     		cmp	r3, #1
 295 0052 00D0     		beq	.L31
 296              	.LVL19:
 297              	.L29:
  47:Core/Src/control/pid.cpp ****     {
  48:Core/Src/control/pid.cpp ****         kp = (0 - kp);
  49:Core/Src/control/pid.cpp ****         ki = (0 - ki);
  50:Core/Src/control/pid.cpp ****         kd = (0 - kd);
  51:Core/Src/control/pid.cpp ****     }
  52:Core/Src/control/pid.cpp **** }
 298              		.loc 1 52 1 view .LVU95
 299 0054 7047     		bx	lr
 300              	.LVL20:
 301              	.L31:
  48:Core/Src/control/pid.cpp ****         ki = (0 - ki);
 302              		.loc 1 48 9 is_stmt 1 view .LVU96
  48:Core/Src/control/pid.cpp ****         ki = (0 - ki);
 303              		.loc 1 48 17 is_stmt 0 view .LVU97
 304 0056 9FED087A 		vldr.32	s14, .L32+4
 305              	.LVL21:
  48:Core/Src/control/pid.cpp ****         ki = (0 - ki);
 306              		.loc 1 48 17 view .LVU98
 307 005a 37EE400A 		vsub.f32	s0, s14, s0
 308              	.LVL22:
  48:Core/Src/control/pid.cpp ****         ki = (0 - ki);
 309              		.loc 1 48 12 view .LVU99
 310 005e 80ED000A 		vstr.32	s0, [r0]
 311              	.LVL23:
  49:Core/Src/control/pid.cpp ****         kd = (0 - kd);
 312              		.loc 1 49 9 is_stmt 1 view .LVU100
  49:Core/Src/control/pid.cpp ****         kd = (0 - kd);
 313              		.loc 1 49 17 is_stmt 0 view .LVU101
 314 0062 77EE600A 		vsub.f32	s1, s14, s1
  49:Core/Src/control/pid.cpp ****         kd = (0 - kd);
 315              		.loc 1 49 12 view .LVU102
 316 0066 C0ED010A 		vstr.32	s1, [r0, #4]
  50:Core/Src/control/pid.cpp ****     }
 317              		.loc 1 50 9 is_stmt 1 view .LVU103
  50:Core/Src/control/pid.cpp ****     }
 318              		.loc 1 50 17 is_stmt 0 view .LVU104
 319 006a 77EE677A 		vsub.f32	s15, s14, s15
  50:Core/Src/control/pid.cpp ****     }
 320              		.loc 1 50 12 view .LVU105
 321 006e C0ED027A 		vstr.32	s15, [r0, #8]
 322 0072 EFE7     		b	.L29
 323              	.L33:
 324              		.align	2
 325              	.L32:
 326 0074 00007A44 		.word	1148846080
 327 0078 00000000 		.word	0
 328              		.cfi_endproc
 329              	.LFE1650:
 331              		.section	.text._ZN14continuous_PID13SetSampleTimeEi,"ax",%progbits
 332              		.align	1
ARM GAS  /tmp/ccqrYWkL.s 			page 9


 333              		.global	_ZN14continuous_PID13SetSampleTimeEi
 334              		.syntax unified
 335              		.thumb
 336              		.thumb_func
 337              		.fpu fpv4-sp-d16
 339              	_ZN14continuous_PID13SetSampleTimeEi:
 340              	.LVL24:
 341              	.LFB1651:
  53:Core/Src/control/pid.cpp **** 
  54:Core/Src/control/pid.cpp **** void continuous_PID:: SetSampleTime(int NewSampleTime)
  55:Core/Src/control/pid.cpp **** {
 342              		.loc 1 55 1 is_stmt 1 view -0
 343              		.cfi_startproc
 344              		@ args = 0, pretend = 0, frame = 0
 345              		@ frame_needed = 0, uses_anonymous_args = 0
 346              		@ link register save eliminated.
  56:Core/Src/control/pid.cpp ****     if (NewSampleTime > 0)
 347              		.loc 1 56 5 view .LVU107
 348              	.LBB6:
 349 0000 0029     		cmp	r1, #0
 350              		.loc 1 56 5 is_stmt 0 view .LVU108
 351 0002 16DD     		ble	.L34
 352              	.LBB7:
  57:Core/Src/control/pid.cpp ****     {
  58:Core/Src/control/pid.cpp ****         float ratio = (float)NewSampleTime / (float)SampleTime;
 353              		.loc 1 58 9 is_stmt 1 view .LVU109
 354              		.loc 1 58 23 is_stmt 0 view .LVU110
 355 0004 07EE901A 		vmov	s15, r1	@ int
 356 0008 F8EEE76A 		vcvt.f32.s32	s13, s15
 357              		.loc 1 58 46 view .LVU111
 358 000c D0ED0A7A 		vldr.32	s15, [r0, #40]	@ int
 359 0010 F8EE677A 		vcvt.f32.u32	s15, s15
 360              		.loc 1 58 15 view .LVU112
 361 0014 86EEA77A 		vdiv.f32	s14, s13, s15
 362              	.LVL25:
  59:Core/Src/control/pid.cpp ****         ki *= ratio;
 363              		.loc 1 59 9 is_stmt 1 view .LVU113
 364              		.loc 1 59 12 is_stmt 0 view .LVU114
 365 0018 D0ED017A 		vldr.32	s15, [r0, #4]
 366 001c 67EE877A 		vmul.f32	s15, s15, s14
 367 0020 C0ED017A 		vstr.32	s15, [r0, #4]
  60:Core/Src/control/pid.cpp ****         kd /= ratio;
 368              		.loc 1 60 9 is_stmt 1 view .LVU115
 369              		.loc 1 60 12 is_stmt 0 view .LVU116
 370 0024 D0ED026A 		vldr.32	s13, [r0, #8]
 371 0028 C6EE877A 		vdiv.f32	s15, s13, s14
 372 002c C0ED027A 		vstr.32	s15, [r0, #8]
  61:Core/Src/control/pid.cpp ****         SampleTime = (int)NewSampleTime;
 373              		.loc 1 61 9 is_stmt 1 view .LVU117
 374              		.loc 1 61 20 is_stmt 0 view .LVU118
 375 0030 8162     		str	r1, [r0, #40]
 376              	.LVL26:
 377              	.L34:
 378              		.loc 1 61 20 view .LVU119
 379              	.LBE7:
 380              	.LBE6:
  62:Core/Src/control/pid.cpp ****     }
ARM GAS  /tmp/ccqrYWkL.s 			page 10


  63:Core/Src/control/pid.cpp **** }
 381              		.loc 1 63 1 view .LVU120
 382 0032 7047     		bx	lr
 383              		.cfi_endproc
 384              	.LFE1651:
 386              		.section	.text._ZN14continuous_PID15SetOutputLimitsEff,"ax",%progbits
 387              		.align	1
 388              		.global	_ZN14continuous_PID15SetOutputLimitsEff
 389              		.syntax unified
 390              		.thumb
 391              		.thumb_func
 392              		.fpu fpv4-sp-d16
 394              	_ZN14continuous_PID15SetOutputLimitsEff:
 395              	.LVL27:
 396              	.LFB1652:
  64:Core/Src/control/pid.cpp **** 
  65:Core/Src/control/pid.cpp **** void continuous_PID:: SetOutputLimits(float Min, float Max)
  66:Core/Src/control/pid.cpp **** {
 397              		.loc 1 66 1 is_stmt 1 view -0
 398              		.cfi_startproc
 399              		@ args = 0, pretend = 0, frame = 0
 400              		@ frame_needed = 0, uses_anonymous_args = 0
 401              		@ link register save eliminated.
  67:Core/Src/control/pid.cpp ****     if (Min > Max) return;
 402              		.loc 1 67 5 view .LVU122
 403 0000 B4EEE00A 		vcmpe.f32	s0, s1
 404 0004 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 405 0008 03DC     		bgt	.L36
  68:Core/Src/control/pid.cpp ****     outMin = Min;
 406              		.loc 1 68 5 view .LVU123
 407              		.loc 1 68 12 is_stmt 0 view .LVU124
 408 000a 80ED070A 		vstr.32	s0, [r0, #28]
  69:Core/Src/control/pid.cpp ****     outMax = Max;
 409              		.loc 1 69 5 is_stmt 1 view .LVU125
 410              		.loc 1 69 12 is_stmt 0 view .LVU126
 411 000e C0ED080A 		vstr.32	s1, [r0, #32]
 412              	.L36:
  70:Core/Src/control/pid.cpp **** }
 413              		.loc 1 70 1 view .LVU127
 414 0012 7047     		bx	lr
 415              		.cfi_endproc
 416              	.LFE1652:
 418              		.section	.text._ZN14continuous_PID10InitializeEv,"ax",%progbits
 419              		.align	1
 420              		.global	_ZN14continuous_PID10InitializeEv
 421              		.syntax unified
 422              		.thumb
 423              		.thumb_func
 424              		.fpu fpv4-sp-d16
 426              	_ZN14continuous_PID10InitializeEv:
 427              	.LVL28:
 428              	.LFB1654:
  71:Core/Src/control/pid.cpp **** 
  72:Core/Src/control/pid.cpp **** void continuous_PID:: SetMode(int Mode)
  73:Core/Src/control/pid.cpp **** {
  74:Core/Src/control/pid.cpp ****     bool newAuto = (Mode == AUTOMATIC);
  75:Core/Src/control/pid.cpp ****     if (newAuto == !inAuto)
ARM GAS  /tmp/ccqrYWkL.s 			page 11


  76:Core/Src/control/pid.cpp ****     {  /*we just went from manual to auto*/
  77:Core/Src/control/pid.cpp ****         Initialize();
  78:Core/Src/control/pid.cpp ****     }
  79:Core/Src/control/pid.cpp ****     inAuto = newAuto;
  80:Core/Src/control/pid.cpp **** }
  81:Core/Src/control/pid.cpp **** 
  82:Core/Src/control/pid.cpp **** void continuous_PID:: Initialize()
  83:Core/Src/control/pid.cpp **** {
 429              		.loc 1 83 1 is_stmt 1 view -0
 430              		.cfi_startproc
 431              		@ args = 0, pretend = 0, frame = 0
 432              		@ frame_needed = 0, uses_anonymous_args = 0
 433              		@ link register save eliminated.
  84:Core/Src/control/pid.cpp ****     lastInput = currInput;
 434              		.loc 1 84 5 view .LVU129
 435              		.loc 1 84 17 is_stmt 0 view .LVU130
 436 0000 0369     		ldr	r3, [r0, #16]	@ float
 437              		.loc 1 84 15 view .LVU131
 438 0002 C360     		str	r3, [r0, #12]	@ float
  85:Core/Src/control/pid.cpp ****     ITerm = Output;
 439              		.loc 1 85 5 is_stmt 1 view .LVU132
 440              		.loc 1 85 13 is_stmt 0 view .LVU133
 441 0004 D0ED067A 		vldr.32	s15, [r0, #24]
 442              		.loc 1 85 11 view .LVU134
 443 0008 C0ED057A 		vstr.32	s15, [r0, #20]
  86:Core/Src/control/pid.cpp ****     if (ITerm > outMax) ITerm = outMax;
 444              		.loc 1 86 5 is_stmt 1 view .LVU135
 445              		.loc 1 86 17 is_stmt 0 view .LVU136
 446 000c 90ED087A 		vldr.32	s14, [r0, #32]
 447              		.loc 1 86 5 view .LVU137
 448 0010 F4EEC77A 		vcmpe.f32	s15, s14
 449 0014 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 450 0018 02DD     		ble	.L45
 451              		.loc 1 86 25 is_stmt 1 discriminator 1 view .LVU138
 452              		.loc 1 86 31 is_stmt 0 discriminator 1 view .LVU139
 453 001a 80ED057A 		vstr.32	s14, [r0, #20]
 454 001e 7047     		bx	lr
 455              	.L45:
  87:Core/Src/control/pid.cpp ****     else if (ITerm < outMin) ITerm = outMin;
 456              		.loc 1 87 10 is_stmt 1 view .LVU140
 457              		.loc 1 87 22 is_stmt 0 view .LVU141
 458 0020 90ED077A 		vldr.32	s14, [r0, #28]
 459              		.loc 1 87 10 view .LVU142
 460 0024 F4EEC77A 		vcmpe.f32	s15, s14
 461 0028 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 462 002c 01D5     		bpl	.L38
 463              		.loc 1 87 30 is_stmt 1 discriminator 1 view .LVU143
 464              		.loc 1 87 36 is_stmt 0 discriminator 1 view .LVU144
 465 002e 80ED057A 		vstr.32	s14, [r0, #20]
 466              	.L38:
  88:Core/Src/control/pid.cpp **** }
 467              		.loc 1 88 1 view .LVU145
 468 0032 7047     		bx	lr
 469              		.cfi_endproc
 470              	.LFE1654:
 472              		.section	.text._ZN14continuous_PID7SetModeEi,"ax",%progbits
 473              		.align	1
ARM GAS  /tmp/ccqrYWkL.s 			page 12


 474              		.global	_ZN14continuous_PID7SetModeEi
 475              		.syntax unified
 476              		.thumb
 477              		.thumb_func
 478              		.fpu fpv4-sp-d16
 480              	_ZN14continuous_PID7SetModeEi:
 481              	.LVL29:
 482              	.LFB1653:
  73:Core/Src/control/pid.cpp ****     bool newAuto = (Mode == AUTOMATIC);
 483              		.loc 1 73 1 is_stmt 1 view -0
 484              		.cfi_startproc
 485              		@ args = 0, pretend = 0, frame = 0
 486              		@ frame_needed = 0, uses_anonymous_args = 0
  73:Core/Src/control/pid.cpp ****     bool newAuto = (Mode == AUTOMATIC);
 487              		.loc 1 73 1 is_stmt 0 view .LVU147
 488 0000 38B5     		push	{r3, r4, r5, lr}
 489              	.LCFI4:
 490              		.cfi_def_cfa_offset 16
 491              		.cfi_offset 3, -16
 492              		.cfi_offset 4, -12
 493              		.cfi_offset 5, -8
 494              		.cfi_offset 14, -4
 495 0002 0446     		mov	r4, r0
  74:Core/Src/control/pid.cpp ****     if (newAuto == !inAuto)
 496              		.loc 1 74 5 is_stmt 1 view .LVU148
  74:Core/Src/control/pid.cpp ****     if (newAuto == !inAuto)
 497              		.loc 1 74 10 is_stmt 0 view .LVU149
 498 0004 0129     		cmp	r1, #1
 499 0006 14BF     		ite	ne
 500 0008 0025     		movne	r5, #0
 501 000a 0125     		moveq	r5, #1
 502              	.LVL30:
  75:Core/Src/control/pid.cpp ****     {  /*we just went from manual to auto*/
 503              		.loc 1 75 5 is_stmt 1 view .LVU150
  75:Core/Src/control/pid.cpp ****     {  /*we just went from manual to auto*/
 504              		.loc 1 75 21 is_stmt 0 view .LVU151
 505 000c 90F82D30 		ldrb	r3, [r0, #45]	@ zero_extendqisi2
  75:Core/Src/control/pid.cpp ****     {  /*we just went from manual to auto*/
 506              		.loc 1 75 20 view .LVU152
 507 0010 83F00103 		eor	r3, r3, #1
  75:Core/Src/control/pid.cpp ****     {  /*we just went from manual to auto*/
 508              		.loc 1 75 5 view .LVU153
 509 0014 AB42     		cmp	r3, r5
 510 0016 02D0     		beq	.L49
 511              	.LVL31:
 512              	.L47:
  79:Core/Src/control/pid.cpp **** }
 513              		.loc 1 79 5 is_stmt 1 view .LVU154
  79:Core/Src/control/pid.cpp **** }
 514              		.loc 1 79 12 is_stmt 0 view .LVU155
 515 0018 84F82D50 		strb	r5, [r4, #45]
  80:Core/Src/control/pid.cpp **** 
 516              		.loc 1 80 1 view .LVU156
 517 001c 38BD     		pop	{r3, r4, r5, pc}
 518              	.LVL32:
 519              	.L49:
  77:Core/Src/control/pid.cpp ****     }
ARM GAS  /tmp/ccqrYWkL.s 			page 13


 520              		.loc 1 77 9 is_stmt 1 view .LVU157
  77:Core/Src/control/pid.cpp ****     }
 521              		.loc 1 77 19 is_stmt 0 view .LVU158
 522 001e FFF7FEFF 		bl	_ZN14continuous_PID10InitializeEv
 523              	.LVL33:
  77:Core/Src/control/pid.cpp ****     }
 524              		.loc 1 77 19 view .LVU159
 525 0022 F9E7     		b	.L47
 526              		.cfi_endproc
 527              	.LFE1653:
 529              		.section	.text._ZN14continuous_PID22SetControllerDirectionEi,"ax",%progbits
 530              		.align	1
 531              		.global	_ZN14continuous_PID22SetControllerDirectionEi
 532              		.syntax unified
 533              		.thumb
 534              		.thumb_func
 535              		.fpu fpv4-sp-d16
 537              	_ZN14continuous_PID22SetControllerDirectionEi:
 538              	.LVL34:
 539              	.LFB1655:
  89:Core/Src/control/pid.cpp **** 
  90:Core/Src/control/pid.cpp **** void continuous_PID:: SetControllerDirection(int Direction)
  91:Core/Src/control/pid.cpp **** {
 540              		.loc 1 91 1 is_stmt 1 view -0
 541              		.cfi_startproc
 542              		@ args = 0, pretend = 0, frame = 0
 543              		@ frame_needed = 0, uses_anonymous_args = 0
 544              		@ link register save eliminated.
  92:Core/Src/control/pid.cpp ****     controllerDirection = Direction;
 545              		.loc 1 92 5 view .LVU161
 546              		.loc 1 92 25 is_stmt 0 view .LVU162
 547 0000 0163     		str	r1, [r0, #48]
  93:Core/Src/control/pid.cpp **** }
 548              		.loc 1 93 1 view .LVU163
 549 0002 7047     		bx	lr
 550              		.cfi_endproc
 551              	.LFE1655:
 553              		.section	.text._ZN12discrete_PID7ComputeEff,"ax",%progbits
 554              		.align	1
 555              		.global	_ZN12discrete_PID7ComputeEff
 556              		.syntax unified
 557              		.thumb
 558              		.thumb_func
 559              		.fpu fpv4-sp-d16
 561              	_ZN12discrete_PID7ComputeEff:
 562              	.LVL35:
 563              	.LFB1656:
  94:Core/Src/control/pid.cpp **** /* end of continous pid*/
  95:Core/Src/control/pid.cpp **** /* descrete pid */
  96:Core/Src/control/pid.cpp **** float discrete_PID:: Compute(float Setpoint,float Input)
  97:Core/Src/control/pid.cpp **** {
 564              		.loc 1 97 1 is_stmt 1 view -0
 565              		.cfi_startproc
 566              		@ args = 0, pretend = 0, frame = 0
 567              		@ frame_needed = 0, uses_anonymous_args = 0
 568              		.loc 1 97 1 is_stmt 0 view .LVU165
 569 0000 10B5     		push	{r4, lr}
ARM GAS  /tmp/ccqrYWkL.s 			page 14


 570              	.LCFI5:
 571              		.cfi_def_cfa_offset 8
 572              		.cfi_offset 4, -8
 573              		.cfi_offset 14, -4
 574 0002 2DED028B 		vpush.64	{d8}
 575              	.LCFI6:
 576              		.cfi_def_cfa_offset 16
 577              		.cfi_offset 80, -16
 578              		.cfi_offset 81, -12
 579 0006 0446     		mov	r4, r0
 580 0008 B0EE408A 		vmov.f32	s16, s0
 581 000c F0EE608A 		vmov.f32	s17, s1
  98:Core/Src/control/pid.cpp ****     unsigned long now= HAL_GetTick();
 582              		.loc 1 98 5 is_stmt 1 view .LVU166
 583              		.loc 1 98 35 is_stmt 0 view .LVU167
 584 0010 FFF7FEFF 		bl	HAL_GetTick
 585              	.LVL36:
  99:Core/Src/control/pid.cpp ****     unsigned long timeChange = (now - lastTime);
 586              		.loc 1 99 5 is_stmt 1 view .LVU168
 587              		.loc 1 99 39 is_stmt 0 view .LVU169
 588 0014 236A     		ldr	r3, [r4, #32]
 589              		.loc 1 99 19 view .LVU170
 590 0016 C31A     		subs	r3, r0, r3
 591              	.LVL37:
 100:Core/Src/control/pid.cpp ****     if (timeChange >= SampleTime)
 592              		.loc 1 100 5 is_stmt 1 view .LVU171
 593              	.LBB8:
 594              		.loc 1 100 23 is_stmt 0 view .LVU172
 595 0018 626A     		ldr	r2, [r4, #36]
 596              		.loc 1 100 5 view .LVU173
 597 001a 9A42     		cmp	r2, r3
 598 001c 33D8     		bhi	.L52
 599              	.LBB9:
 101:Core/Src/control/pid.cpp ****     {  /*Compute all the working error variables*/
 102:Core/Src/control/pid.cpp ****         float error = Setpoint - Input;
 600              		.loc 1 102 9 is_stmt 1 view .LVU174
 601              		.loc 1 102 15 is_stmt 0 view .LVU175
 602 001e 38EE680A 		vsub.f32	s0, s16, s17
 603              	.LVL38:
 103:Core/Src/control/pid.cpp ****         l_output+=(kp+ki+kd)*error+(ki-kp-2*kd)*l_err+ kd*ll_err;
 604              		.loc 1 103 9 is_stmt 1 view .LVU176
 605              		.loc 1 103 20 is_stmt 0 view .LVU177
 606 0022 94ED056A 		vldr.32	s12, [r4, #20]
 607              		.loc 1 103 23 view .LVU178
 608 0026 94ED067A 		vldr.32	s14, [r4, #24]
 609              		.loc 1 103 22 view .LVU179
 610 002a 76EE077A 		vadd.f32	s15, s12, s14
 611              		.loc 1 103 26 view .LVU180
 612 002e D4ED076A 		vldr.32	s13, [r4, #28]
 613              		.loc 1 103 25 view .LVU181
 614 0032 77EEA67A 		vadd.f32	s15, s15, s13
 615              		.loc 1 103 29 view .LVU182
 616 0036 67EE807A 		vmul.f32	s15, s15, s0
 617              		.loc 1 103 39 view .LVU183
 618 003a 37EE467A 		vsub.f32	s14, s14, s12
 619              		.loc 1 103 44 view .LVU184
 620 003e 36EEA66A 		vadd.f32	s12, s13, s13
ARM GAS  /tmp/ccqrYWkL.s 			page 15


 621              		.loc 1 103 42 view .LVU185
 622 0042 37EE467A 		vsub.f32	s14, s14, s12
 623              		.loc 1 103 49 view .LVU186
 624 0046 94ED016A 		vldr.32	s12, [r4, #4]
 625              		.loc 1 103 48 view .LVU187
 626 004a 27EE067A 		vmul.f32	s14, s14, s12
 627              		.loc 1 103 35 view .LVU188
 628 004e 77EE877A 		vadd.f32	s15, s15, s14
 629              		.loc 1 103 59 view .LVU189
 630 0052 94ED027A 		vldr.32	s14, [r4, #8]
 631              		.loc 1 103 58 view .LVU190
 632 0056 66EE876A 		vmul.f32	s13, s13, s14
 633              		.loc 1 103 54 view .LVU191
 634 005a 77EEA67A 		vadd.f32	s15, s15, s13
 635              		.loc 1 103 17 view .LVU192
 636 005e 94ED007A 		vldr.32	s14, [r4]
 637 0062 77EE877A 		vadd.f32	s15, s15, s14
 638 0066 C4ED007A 		vstr.32	s15, [r4]
 104:Core/Src/control/pid.cpp ****         if ( l_output > outMax)  l_output = outMax;
 639              		.loc 1 104 9 is_stmt 1 view .LVU193
 640              		.loc 1 104 25 is_stmt 0 view .LVU194
 641 006a 94ED047A 		vldr.32	s14, [r4, #16]
 642              		.loc 1 104 9 view .LVU195
 643 006e F4EEC77A 		vcmpe.f32	s15, s14
 644 0072 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 645 0076 0BDD     		ble	.L59
 646              		.loc 1 104 34 is_stmt 1 discriminator 1 view .LVU196
 647              		.loc 1 104 43 is_stmt 0 discriminator 1 view .LVU197
 648 0078 84ED007A 		vstr.32	s14, [r4]
 649              	.L55:
 105:Core/Src/control/pid.cpp ****         else if ( l_output< outMin)  l_output = outMin;
 106:Core/Src/control/pid.cpp **** 
 107:Core/Src/control/pid.cpp ****         /*Remember some variables for next time*/
 108:Core/Src/control/pid.cpp ****         ll_err = l_err;
 650              		.loc 1 108 9 is_stmt 1 view .LVU198
 651              		.loc 1 108 16 is_stmt 0 view .LVU199
 652 007c 84ED026A 		vstr.32	s12, [r4, #8]
 109:Core/Src/control/pid.cpp ****         l_err = error;
 653              		.loc 1 109 9 is_stmt 1 view .LVU200
 654              		.loc 1 109 15 is_stmt 0 view .LVU201
 655 0080 84ED010A 		vstr.32	s0, [r4, #4]
 110:Core/Src/control/pid.cpp ****         lastTime = now;
 656              		.loc 1 110 9 is_stmt 1 view .LVU202
 657              		.loc 1 110 18 is_stmt 0 view .LVU203
 658 0084 2062     		str	r0, [r4, #32]
 659              	.LVL39:
 660              	.L52:
 661              		.loc 1 110 18 view .LVU204
 662              	.LBE9:
 663              	.LBE8:
 111:Core/Src/control/pid.cpp ****     }
 112:Core/Src/control/pid.cpp ****     return  l_output;
 664              		.loc 1 112 5 is_stmt 1 view .LVU205
 113:Core/Src/control/pid.cpp **** }
 665              		.loc 1 113 1 is_stmt 0 view .LVU206
 666 0086 94ED000A 		vldr.32	s0, [r4]
 667 008a BDEC028B 		vldm	sp!, {d8}
ARM GAS  /tmp/ccqrYWkL.s 			page 16


 668              	.LCFI7:
 669              		.cfi_remember_state
 670              		.cfi_restore 80
 671              		.cfi_restore 81
 672              		.cfi_def_cfa_offset 8
 673              	.LVL40:
 674              		.loc 1 113 1 view .LVU207
 675 008e 10BD     		pop	{r4, pc}
 676              	.LVL41:
 677              	.L59:
 678              	.LCFI8:
 679              		.cfi_restore_state
 680              	.LBB11:
 681              	.LBB10:
 105:Core/Src/control/pid.cpp **** 
 682              		.loc 1 105 14 is_stmt 1 view .LVU208
 105:Core/Src/control/pid.cpp **** 
 683              		.loc 1 105 29 is_stmt 0 view .LVU209
 684 0090 94ED037A 		vldr.32	s14, [r4, #12]
 105:Core/Src/control/pid.cpp **** 
 685              		.loc 1 105 14 view .LVU210
 686 0094 F4EEC77A 		vcmpe.f32	s15, s14
 687 0098 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 688 009c EED5     		bpl	.L55
 105:Core/Src/control/pid.cpp **** 
 689              		.loc 1 105 38 is_stmt 1 discriminator 1 view .LVU211
 105:Core/Src/control/pid.cpp **** 
 690              		.loc 1 105 47 is_stmt 0 discriminator 1 view .LVU212
 691 009e 84ED007A 		vstr.32	s14, [r4]
 692 00a2 EBE7     		b	.L55
 693              	.LBE10:
 694              	.LBE11:
 695              		.cfi_endproc
 696              	.LFE1656:
 698              		.section	.text._ZN12discrete_PID10SetTuningsEfff,"ax",%progbits
 699              		.align	1
 700              		.global	_ZN12discrete_PID10SetTuningsEfff
 701              		.syntax unified
 702              		.thumb
 703              		.thumb_func
 704              		.fpu fpv4-sp-d16
 706              	_ZN12discrete_PID10SetTuningsEfff:
 707              	.LVL42:
 708              	.LFB1657:
 114:Core/Src/control/pid.cpp **** 
 115:Core/Src/control/pid.cpp **** void discrete_PID:: SetTunings(float Kp, float Ki, float Kd)
 116:Core/Src/control/pid.cpp **** {
 709              		.loc 1 116 1 is_stmt 1 view -0
 710              		.cfi_startproc
 711              		@ args = 0, pretend = 0, frame = 0
 712              		@ frame_needed = 0, uses_anonymous_args = 0
 713              		@ link register save eliminated.
 117:Core/Src/control/pid.cpp ****     if (Kp < 0 || Ki < 0 || Kd < 0) return;
 714              		.loc 1 117 5 view .LVU214
 715 0000 B5EEC00A 		vcmpe.f32	s0, #0
 716 0004 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 717 0008 1BD4     		bmi	.L61
ARM GAS  /tmp/ccqrYWkL.s 			page 17


 718              		.loc 1 117 16 is_stmt 0 discriminator 2 view .LVU215
 719 000a F5EEC00A 		vcmpe.f32	s1, #0
 720 000e F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 721 0012 16D4     		bmi	.L61
 722              		.loc 1 117 26 discriminator 4 view .LVU216
 723 0014 B5EEC01A 		vcmpe.f32	s2, #0
 724 0018 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 725 001c 11D4     		bmi	.L61
 118:Core/Src/control/pid.cpp ****     float SampleTimeInSec = (float)SampleTime / 1000;
 726              		.loc 1 118 5 is_stmt 1 view .LVU217
 727              		.loc 1 118 29 is_stmt 0 view .LVU218
 728 001e D0ED097A 		vldr.32	s15, [r0, #36]	@ int
 729 0022 F8EE677A 		vcvt.f32.u32	s15, s15
 730              		.loc 1 118 11 view .LVU219
 731 0026 DFED076A 		vldr.32	s13, .L63
 732 002a 87EEA67A 		vdiv.f32	s14, s15, s13
 733              	.LVL43:
 119:Core/Src/control/pid.cpp ****     kp = Kp;
 734              		.loc 1 119 5 is_stmt 1 view .LVU220
 735              		.loc 1 119 8 is_stmt 0 view .LVU221
 736 002e 80ED050A 		vstr.32	s0, [r0, #20]
 120:Core/Src/control/pid.cpp ****     ki = Ki * SampleTimeInSec;
 737              		.loc 1 120 5 is_stmt 1 view .LVU222
 738              		.loc 1 120 13 is_stmt 0 view .LVU223
 739 0032 60EE870A 		vmul.f32	s1, s1, s14
 740              	.LVL44:
 741              		.loc 1 120 8 view .LVU224
 742 0036 C0ED060A 		vstr.32	s1, [r0, #24]
 121:Core/Src/control/pid.cpp ****     kd = Kd / SampleTimeInSec;
 743              		.loc 1 121 5 is_stmt 1 view .LVU225
 744              		.loc 1 121 13 is_stmt 0 view .LVU226
 745 003a C1EE077A 		vdiv.f32	s15, s2, s14
 746              		.loc 1 121 8 view .LVU227
 747 003e C0ED077A 		vstr.32	s15, [r0, #28]
 748              	.LVL45:
 749              	.L61:
 122:Core/Src/control/pid.cpp **** }
 750              		.loc 1 122 1 view .LVU228
 751 0042 7047     		bx	lr
 752              	.L64:
 753              		.align	2
 754              	.L63:
 755 0044 00007A44 		.word	1148846080
 756              		.cfi_endproc
 757              	.LFE1657:
 759              		.section	.text._ZN12discrete_PID13SetSampleTimeEi,"ax",%progbits
 760              		.align	1
 761              		.global	_ZN12discrete_PID13SetSampleTimeEi
 762              		.syntax unified
 763              		.thumb
 764              		.thumb_func
 765              		.fpu fpv4-sp-d16
 767              	_ZN12discrete_PID13SetSampleTimeEi:
 768              	.LVL46:
 769              	.LFB1658:
 123:Core/Src/control/pid.cpp **** 
 124:Core/Src/control/pid.cpp **** void discrete_PID:: SetSampleTime(int NewSampleTime)
ARM GAS  /tmp/ccqrYWkL.s 			page 18


 125:Core/Src/control/pid.cpp **** {
 770              		.loc 1 125 1 is_stmt 1 view -0
 771              		.cfi_startproc
 772              		@ args = 0, pretend = 0, frame = 0
 773              		@ frame_needed = 0, uses_anonymous_args = 0
 774              		@ link register save eliminated.
 126:Core/Src/control/pid.cpp ****     if (NewSampleTime > 0)
 775              		.loc 1 126 5 view .LVU230
 776              	.LBB12:
 777 0000 0029     		cmp	r1, #0
 778              		.loc 1 126 5 is_stmt 0 view .LVU231
 779 0002 16DD     		ble	.L65
 780              	.LBB13:
 127:Core/Src/control/pid.cpp ****     {
 128:Core/Src/control/pid.cpp ****         float ratio = (float)NewSampleTime / (float)SampleTime;
 781              		.loc 1 128 9 is_stmt 1 view .LVU232
 782              		.loc 1 128 23 is_stmt 0 view .LVU233
 783 0004 07EE901A 		vmov	s15, r1	@ int
 784 0008 F8EEE76A 		vcvt.f32.s32	s13, s15
 785              		.loc 1 128 46 view .LVU234
 786 000c D0ED097A 		vldr.32	s15, [r0, #36]	@ int
 787 0010 F8EE677A 		vcvt.f32.u32	s15, s15
 788              		.loc 1 128 15 view .LVU235
 789 0014 86EEA77A 		vdiv.f32	s14, s13, s15
 790              	.LVL47:
 129:Core/Src/control/pid.cpp ****         ki *= ratio;
 791              		.loc 1 129 9 is_stmt 1 view .LVU236
 792              		.loc 1 129 12 is_stmt 0 view .LVU237
 793 0018 D0ED067A 		vldr.32	s15, [r0, #24]
 794 001c 67EE877A 		vmul.f32	s15, s15, s14
 795 0020 C0ED067A 		vstr.32	s15, [r0, #24]
 130:Core/Src/control/pid.cpp ****         kd /= ratio;
 796              		.loc 1 130 9 is_stmt 1 view .LVU238
 797              		.loc 1 130 12 is_stmt 0 view .LVU239
 798 0024 D0ED076A 		vldr.32	s13, [r0, #28]
 799 0028 C6EE877A 		vdiv.f32	s15, s13, s14
 800 002c C0ED077A 		vstr.32	s15, [r0, #28]
 131:Core/Src/control/pid.cpp ****         SampleTime = (int)NewSampleTime;
 801              		.loc 1 131 9 is_stmt 1 view .LVU240
 802              		.loc 1 131 20 is_stmt 0 view .LVU241
 803 0030 4162     		str	r1, [r0, #36]
 804              	.LVL48:
 805              	.L65:
 806              		.loc 1 131 20 view .LVU242
 807              	.LBE13:
 808              	.LBE12:
 132:Core/Src/control/pid.cpp ****     }
 133:Core/Src/control/pid.cpp **** }
 809              		.loc 1 133 1 view .LVU243
 810 0032 7047     		bx	lr
 811              		.cfi_endproc
 812              	.LFE1658:
 814              		.section	.text._ZN12discrete_PID15SetOutputLimitsEff,"ax",%progbits
 815              		.align	1
 816              		.global	_ZN12discrete_PID15SetOutputLimitsEff
 817              		.syntax unified
 818              		.thumb
ARM GAS  /tmp/ccqrYWkL.s 			page 19


 819              		.thumb_func
 820              		.fpu fpv4-sp-d16
 822              	_ZN12discrete_PID15SetOutputLimitsEff:
 823              	.LVL49:
 824              	.LFB1659:
 134:Core/Src/control/pid.cpp **** 
 135:Core/Src/control/pid.cpp **** void discrete_PID:: SetOutputLimits(float Min, float Max)
 136:Core/Src/control/pid.cpp **** {
 825              		.loc 1 136 1 is_stmt 1 view -0
 826              		.cfi_startproc
 827              		@ args = 0, pretend = 0, frame = 0
 828              		@ frame_needed = 0, uses_anonymous_args = 0
 829              		@ link register save eliminated.
 137:Core/Src/control/pid.cpp ****     if (Min > Max) return;
 830              		.loc 1 137 5 view .LVU245
 831 0000 B4EEE00A 		vcmpe.f32	s0, s1
 832 0004 F1EE10FA 		vmrs	APSR_nzcv, FPSCR
 833 0008 03DC     		bgt	.L67
 138:Core/Src/control/pid.cpp ****     outMin = Min;
 834              		.loc 1 138 5 view .LVU246
 835              		.loc 1 138 12 is_stmt 0 view .LVU247
 836 000a 80ED030A 		vstr.32	s0, [r0, #12]
 139:Core/Src/control/pid.cpp ****     outMax = Max;
 837              		.loc 1 139 5 is_stmt 1 view .LVU248
 838              		.loc 1 139 12 is_stmt 0 view .LVU249
 839 000e C0ED040A 		vstr.32	s1, [r0, #16]
 840              	.L67:
 140:Core/Src/control/pid.cpp **** }
 841              		.loc 1 140 1 view .LVU250
 842 0012 7047     		bx	lr
 843              		.cfi_endproc
 844              	.LFE1659:
 846              		.text
 847              	.Letext0:
 848              		.file 2 "/home/love/Documents/gcc-arm-none-eabi-10-2020-q4-major/arm-none-eabi/include/machine/_de
 849              		.file 3 "/home/love/Documents/gcc-arm-none-eabi-10-2020-q4-major/arm-none-eabi/include/sys/_stdint
 850              		.file 4 "/home/love/Documents/gcc-arm-none-eabi-10-2020-q4-major/arm-none-eabi/include/stdint.h"
 851              		.file 5 "/home/love/Documents/gcc-arm-none-eabi-10-2020-q4-major/lib/gcc/arm-none-eabi/10.2.1/incl
 852              		.file 6 "/home/love/Documents/gcc-arm-none-eabi-10-2020-q4-major/arm-none-eabi/include/c++/10.2.1/
 853              		.file 7 "/home/love/Documents/gcc-arm-none-eabi-10-2020-q4-major/arm-none-eabi/include/c++/10.2.1/
 854              		.file 8 "/home/love/Documents/gcc-arm-none-eabi-10-2020-q4-major/arm-none-eabi/include/c++/10.2.1/
 855              		.file 9 "/home/love/Documents/gcc-arm-none-eabi-10-2020-q4-major/arm-none-eabi/include/c++/10.2.1/
 856              		.file 10 "/home/love/Documents/gcc-arm-none-eabi-10-2020-q4-major/arm-none-eabi/include/c++/10.2.1
 857              		.file 11 "/home/love/Documents/gcc-arm-none-eabi-10-2020-q4-major/arm-none-eabi/include/c++/10.2.1
 858              		.file 12 "/home/love/Documents/gcc-arm-none-eabi-10-2020-q4-major/arm-none-eabi/include/c++/10.2.1
 859              		.file 13 "/home/love/Documents/gcc-arm-none-eabi-10-2020-q4-major/arm-none-eabi/include/c++/10.2.1
 860              		.file 14 "/home/love/Documents/gcc-arm-none-eabi-10-2020-q4-major/arm-none-eabi/include/c++/10.2.1
 861              		.file 15 "/home/love/Documents/gcc-arm-none-eabi-10-2020-q4-major/arm-none-eabi/include/c++/10.2.1
 862              		.file 16 "/home/love/Documents/gcc-arm-none-eabi-10-2020-q4-major/arm-none-eabi/include/c++/10.2.1
 863              		.file 17 "/home/love/Documents/gcc-arm-none-eabi-10-2020-q4-major/arm-none-eabi/include/c++/10.2.1
 864              		.file 18 "/home/love/Documents/gcc-arm-none-eabi-10-2020-q4-major/arm-none-eabi/include/c++/10.2.1
 865              		.file 19 "/home/love/Documents/gcc-arm-none-eabi-10-2020-q4-major/arm-none-eabi/include/c++/10.2.1
 866              		.file 20 "/home/love/Documents/gcc-arm-none-eabi-10-2020-q4-major/arm-none-eabi/include/sys/_types
 867              		.file 21 "/home/love/Documents/gcc-arm-none-eabi-10-2020-q4-major/arm-none-eabi/include/sys/reent.
 868              		.file 22 "/home/love/Documents/gcc-arm-none-eabi-10-2020-q4-major/arm-none-eabi/include/sys/lock.h
 869              		.file 23 "/home/love/Documents/gcc-arm-none-eabi-10-2020-q4-major/arm-none-eabi/include/math.h"
 870              		.file 24 "/home/love/Documents/gcc-arm-none-eabi-10-2020-q4-major/arm-none-eabi/include/stdlib.h"
ARM GAS  /tmp/ccqrYWkL.s 			page 20


 871              		.file 25 "/home/love/Documents/gcc-arm-none-eabi-10-2020-q4-major/arm-none-eabi/include/c++/10.2.1
 872              		.file 26 "/home/love/Documents/gcc-arm-none-eabi-10-2020-q4-major/lib/gcc/arm-none-eabi/10.2.1/inc
 873              		.file 27 "/home/love/Documents/gcc-arm-none-eabi-10-2020-q4-major/arm-none-eabi/include/wchar.h"
 874              		.file 28 "Core/Inc/utils/linalg.h"
 875              		.file 29 "Core/Inc/control/pid.h"
 876              		.file 30 "<built-in>"
 877              		.file 31 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal.h"
ARM GAS  /tmp/ccqrYWkL.s 			page 21


DEFINED SYMBOLS
                            *ABS*:0000000000000000 pid.cpp
     /tmp/ccqrYWkL.s:18     .text._ZN14continuous_PID7ComputeEff:0000000000000000 $t
     /tmp/ccqrYWkL.s:26     .text._ZN14continuous_PID7ComputeEff:0000000000000000 _ZN14continuous_PID7ComputeEff
     /tmp/ccqrYWkL.s:224    .text._ZN14continuous_PID7ComputeEff:00000000000000f0 $d
     /tmp/ccqrYWkL.s:231    .text._ZN14continuous_PID10SetTuningsEfffi:0000000000000000 $t
     /tmp/ccqrYWkL.s:238    .text._ZN14continuous_PID10SetTuningsEfffi:0000000000000000 _ZN14continuous_PID10SetTuningsEfffi
     /tmp/ccqrYWkL.s:326    .text._ZN14continuous_PID10SetTuningsEfffi:0000000000000074 $d
     /tmp/ccqrYWkL.s:332    .text._ZN14continuous_PID13SetSampleTimeEi:0000000000000000 $t
     /tmp/ccqrYWkL.s:339    .text._ZN14continuous_PID13SetSampleTimeEi:0000000000000000 _ZN14continuous_PID13SetSampleTimeEi
     /tmp/ccqrYWkL.s:387    .text._ZN14continuous_PID15SetOutputLimitsEff:0000000000000000 $t
     /tmp/ccqrYWkL.s:394    .text._ZN14continuous_PID15SetOutputLimitsEff:0000000000000000 _ZN14continuous_PID15SetOutputLimitsEff
     /tmp/ccqrYWkL.s:419    .text._ZN14continuous_PID10InitializeEv:0000000000000000 $t
     /tmp/ccqrYWkL.s:426    .text._ZN14continuous_PID10InitializeEv:0000000000000000 _ZN14continuous_PID10InitializeEv
     /tmp/ccqrYWkL.s:473    .text._ZN14continuous_PID7SetModeEi:0000000000000000 $t
     /tmp/ccqrYWkL.s:480    .text._ZN14continuous_PID7SetModeEi:0000000000000000 _ZN14continuous_PID7SetModeEi
     /tmp/ccqrYWkL.s:530    .text._ZN14continuous_PID22SetControllerDirectionEi:0000000000000000 $t
     /tmp/ccqrYWkL.s:537    .text._ZN14continuous_PID22SetControllerDirectionEi:0000000000000000 _ZN14continuous_PID22SetControllerDirectionEi
     /tmp/ccqrYWkL.s:554    .text._ZN12discrete_PID7ComputeEff:0000000000000000 $t
     /tmp/ccqrYWkL.s:561    .text._ZN12discrete_PID7ComputeEff:0000000000000000 _ZN12discrete_PID7ComputeEff
     /tmp/ccqrYWkL.s:699    .text._ZN12discrete_PID10SetTuningsEfff:0000000000000000 $t
     /tmp/ccqrYWkL.s:706    .text._ZN12discrete_PID10SetTuningsEfff:0000000000000000 _ZN12discrete_PID10SetTuningsEfff
     /tmp/ccqrYWkL.s:755    .text._ZN12discrete_PID10SetTuningsEfff:0000000000000044 $d
     /tmp/ccqrYWkL.s:760    .text._ZN12discrete_PID13SetSampleTimeEi:0000000000000000 $t
     /tmp/ccqrYWkL.s:767    .text._ZN12discrete_PID13SetSampleTimeEi:0000000000000000 _ZN12discrete_PID13SetSampleTimeEi
     /tmp/ccqrYWkL.s:815    .text._ZN12discrete_PID15SetOutputLimitsEff:0000000000000000 $t
     /tmp/ccqrYWkL.s:822    .text._ZN12discrete_PID15SetOutputLimitsEff:0000000000000000 _ZN12discrete_PID15SetOutputLimitsEff

UNDEFINED SYMBOLS
HAL_GetTick
